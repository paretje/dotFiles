#!/bin/sh
if [ -f /sys/class/net/ppp0/statistics/rx_bytes ] ; then
	vnstat --oneline | sed 's/1;.*;\([^;]*\);[^;]*;[^;]*;[^;]*;[^;]*$/\1/'
elif /sbin/iwgetid | fgrep -q 'paretjesphonenetwork'; then
	# echo differ between bash and dash: both require and support the option -n,
	# but bash requires the option -e as well, to support the \n, while dash
	# doesn't need it, and will simply output it. printf seems to be a more
	# universal solution to print without newline
	printf '+\np' | cat /sys/class/net/wlan0/statistics/rx_bytes /sys/class/net/wlan0/statistics/tx_bytes - | dc | bytes2human
else
	exit 1
fi
