#!/bin/sh
if [ "$1" = "pull" ]; then
	if [ "$2" = "-i" ]; then
		src="$3/*"
		shift
	else
		src="$2"
	fi

	dest="$3"
	if [ "$3" = "" ]; then
		dest="."
	fi

	scp -rC online-urbanus-be@ssh.pcextreme.nl:cloud/"$src" "$dest"
elif [ "$1" = "push" ]; then
	scp -rC "$2"  online-urbanus-be@ssh.pcextreme.nl:cloud/"$3"
elif [ "$1" = "ls" ]; then
	ssh online-urbanus-be@ssh.pcextreme.nl ls -la cloud/"$2" | less
else
	echo "cloud: invalid action" >&2
fi
