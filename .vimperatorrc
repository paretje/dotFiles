set hintchars=hjklasdf
set hintmatching=firstletters
set hintinputs=
set editor=urxvt\ -e\ nvim
set complete=l
set defsearch=duckduckgo
set toolbars=noaddons,nobookmarks,nomenu,nonavigation,tabs
set focuscontent=true
let mapleader = ";"
set status=input,location,bookmark,ssl,position,tabcount
set newtab=addons,help
set scrollbars=false
set messagetimeout=2000

set! accessibility.typeaheadfind.autostart=false
set! beacon.enabled=false
set! browser.fixup.alternate.enabled=false
set! browser.formfill.enable=false
set! browser.fullscreen.animate=false
set! browser.link.open_newwindow.restriction=0
set! browser.newtabpage.enabled=false
set! browser.newtabpage.enhanced=false
set! browser.search.defaultenginename='DuckDuckGo'
set! browser.startup.homepage='https://duckduckgo.com/html/?kl=be-nl&kp=-1'
set! browser.startup.page=1
set! browser.tabs.animate=false
set! browser.tabs.closeWindowWithLastTab=false
set! browser.urlbar.trimURLs=false
set! extensions.itsalltext.editor=/home/kevin/bin/nvim-gui
set! extensions.pocket.enabled=false
set! font.size.variable.x-western=15
set! full-screen-api.ignore-widgets=true
set! full-screen-api.transition-duration.enter='0 0'
set! full-screen-api.transition-duration.leave='0 0'
set! general.autoScroll=true
set! general.smoothScroll=false
set! general.warnOnAboutConfig=false
set! intl.accept_languages='en-gb,en,nl-be,nl'
set! media.autoplay.enabled=false
set! media.peerconnection.enabled=false
set! network.cookie.cookieBehavior=1
set! network.cookie.lifetimePolicy=2
set! network.http.speculative-parallel-limit=0
set! network.security.ports.banned.override='6666,'
set! pdfjs.disabled=true
set! privacy.clearOnShutdown.cache=false
set! privacy.clearOnShutdown.offlineApps=true
set! privacy.clearOnShutdown.siteSettings=true
set! privacy.donottrackheader.enabled=true
set! privacy.sanitize.sanitizeOnShutdown=true
set! security.mixed_content.block_display_content=true
set! xpinstall.signatures.required=false

set! extensions.greasemonkey.fileIsGreaseable=true

set! noscript.autoReload=false
set! noscript.cascadePermissions=true
set! noscript.confirmUnblock=false
set! noscript.contentBlocker=true
set! noscript.firstRunRedirection=false
set! noscript.forbidFonts=false
set! noscript.forbidMedia=false
set! noscript.forbidMetaRefresh=false
set! noscript.forbidWebGL=true
set! noscript.notify=false
set! noscript.notify.hide=true
set! noscript.notify.hideDelay=3
set! noscript.showAbout=false
set! noscript.showAllowPage=false
set! noscript.showBaseDomain=false
set! noscript.showDomain=true
set! noscript.showTempToPerm=false

" if uBlock is loaded before this is executed, changes will only take effect
" after another restart
set! extensions.ublock0.adminSettings='{ "userSettings": { "webrtcIPAddressHidden": true }, "filterLists": { "assets/ublock/badware.txt": { "off": true }, "https://easylist-downloads.adblockplus.org/easylistdutch.txt": { "off": false }, "https://easylist-downloads.adblockplus.org/fanboy-annoyance.txt": { "off": false }, "https://easylist-downloads.adblockplus.org/fanboy-social.txt": { "off": false }, "https://s3.amazonaws.com/lists.disconnect.me/simple_malvertising.txt": { "off": false }, "https://s3.amazonaws.com/lists.disconnect.me/simple_malware.txt": { "off": false }, "https://s3.amazonaws.com/lists.disconnect.me/simple_tracking.txt": { "off": false }, "https://easylist-downloads.adblockplus.org/antiadblockfilters.txt": { "off": false }, "http://malwaredomains.lehigh.edu/files/immortal_domains.txt": { "off": false }, "https://www.fanboy.co.nz/fanboy-antifacebook.txt": { "off": false } } }' 

" TODO: install extensions

nnoremap d <C-D>
nnoremap u <C-U>
nnoremap x :tabclose<CR>
nnoremap X :undo<CR>
nnoremap s :stop<CR>
nnoremap j 2j
nnoremap k 2k
nnoremap p :open <C-V><CR>
nnoremap P :tabopen <C-V><CR>

cnoremap <C-P> <Up>
cnoremap <C-N> <Down>

inoremap <C-O> <C-I> " binding to open external editor

nnoremap <Leader>; ;<Esc>
nmap af <Leader>;F
nmap yf <Leader>;y

nnoremap <Leader>org :execute ":!echo \"* TODO " + content.document.title.replace(':', ' -') + "\\n  " + content.location.href + '" \>\> "$ORG_REFILE"'<CR><Esc>
nnoremap <Leader>v :execute ":!mpv '" + content.location.href + "' &"<CR><Esc>
nnoremap <Leader>qb :execute ":!qutebrowser '" + content.location.href + "' &"<CR><Esc>

nnoremap M :bmark<CR>
nnoremap D :delbmarks<CR>

nnoremap go O

noremap ;js :javascript noscriptToggle()<CR>:echomsg 'javascript toggled'<CR>

command! q winclose

command! inspector emenu Tools.Web Developer.Inspector

command! config tabopen about:config

autocmd PageLoad https://github.com/search.* normal <Esc>
autocmd PageLoad .* javascript noscriptStatusUpdate()

highlight HintElem ;;
highlight Hint font-family: monospace; font-size: 13px; font-weight: bold; text-transform: uppercase; color: black; background-color: #FFF785; border-color: #E3BE23; border-width: 1px; border-style: solid; padding: 1px; line-height: 1;

highlight StatusLine\ * padding-left: 0.2em

javascript <<EOF
function noscriptDomain() {
        return noscriptOverlay.ns.getQuickSite(content.document.documentURI, /*level*/ 2);
}
function noscriptEnabled(url) {
        return noscriptOverlay.ns.isJSEnabled(url);
}
function noscriptToggle() {
        const url = noscriptDomain();
        noscriptOverlay.safeAllow(url, !noscriptEnabled(url), false);
}
function noscriptStatusUpdate() {
        var enabled = noscriptEnabled(noscriptDomain());
        var label = document.getElementById('liberator-noscript-status');
        label.setAttribute("value", enabled ? "[S]" : "[]");
}
(function(){
    var label = document.createElement("label");
    label.setAttribute("id", "liberator-noscript-status");
    document.getElementById("liberator-status").insertBefore(label, document.getElementById("liberator-status-position"));
})();
EOF

" vim: set ft=vimperator:
